/**
 * angular-medium-editor
 * @version v0.0.8 - 2015-02-27
 * @link https://github.com/thijsw/angular-medium-editor
 * @author Thijs Wijnmaalen <thijs@wijnmaalen.name>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("angular-medium-editor",[]).directive("mediumEditor",function(){return{require:"ngModel",restrict:"AE",scope:{bindOptions:"=",ngDisabled:"="},link:function(a,b,c,d){var e=!1;angular.element(b).addClass("angular-medium-editor"),a.$watch("ngDisabled",function(a,c){angular.equals(a,c)||(a===!0?d.editor.deactivate():(d.editor.activate(),e&&b.focus()))});var f={},g="",h=function(){c.options&&(f=a.$eval(c.options));var b={};void 0!==a.bindOptions&&(b=a.bindOptions),f=angular.extend(f,b),f.setFocusAfterEnabled&&(e=f.setFocusAfterEnabled,delete f.setFocusAfterEnabled)};h(),g=f.placeholder,a.$watch("bindOptions",function(c,e){angular.equals(c,e)||(d.editor&&d.editor.deactivate(),h(),d.$isEmpty(d.$viewValue)||(f.placeholder=""),d.editor=new MediumEditor(b,f),a.ngDisabled===!0&&d.editor.deactivate())});var i=function(){var c=b.html();angular.equals(d.$viewValue,c)||a.$apply(function(){("<p><br></p>"===c||""===c)&&(f.placeholder=g,d.editor=new MediumEditor(b,f),a.ngDisabled===!0&&d.editor.deactivate()),d.$setViewValue(c)})};b.on("blur",i),b.on("input",i),d.$render=function(){this.editor||(d.$isEmpty(d.$viewValue)||(f.placeholder=""),this.editor=new MediumEditor(b,f),a.ngDisabled===!0&&d.editor.deactivate()),b.html(d.$isEmpty(d.$viewValue)?"":d.$viewValue),d.$isEmpty(d.$viewValue)||angular.element(b).removeClass("medium-editor-placeholder")}}}});